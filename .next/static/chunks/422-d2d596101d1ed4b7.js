(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{848:function(e,t,s){"use strict";var n=s(1844);let l=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"container mx-auto max-w-screen-xl flex flex-col gap-1 h-screen h-[env(safe-area-inset-top, safe-area-inset-bottom)]",children:t})};t.Z=l},3655:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(1844),l=s(5784),a=s(1955),r=s(6893);let i=()=>{let[e,t]=(0,l.useState)(!1),s=a.Z.get("name"),i=a.Z.get("color"),c=()=>{t(e=>!e)},o=()=>{a.Z.remove("name"),a.Z.remove("id"),a.Z.remove("token"),a.Z.remove("color"),window.location.reload()};return(0,n.jsx)("div",{className:"md:justify-self-end flex items-center md:gap-4 h-full",children:(0,n.jsxs)("div",{className:"px-2 shadow-sm h-[40px] flex justify-between items-center gap-2 w-[310px] rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{style:{backgroundColor:i},className:"w-[25px] h-[25px] lg:w-[30px] lg:h-[30px] bg-neutral-200 rounded-lg"}),(0,n.jsx)("div",{className:"font-light text-sm text-slate-800",children:s})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(r.$Pu,{onClick:()=>c(),size:24,className:"text-orange-600 cursor-pointer"}),e?(0,n.jsx)("div",{className:"w-[100px] absolute bg-white p-2 right-0 top-10 border border-orange-400 rounded-lg z-20",children:(0,n.jsx)("ul",{className:"",children:(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>o(),children:"Log out"})})}):null]})]})})},c=()=>{let[e,t]=(0,l.useState)("");return(0,n.jsx)("div",{className:"hidden lg:block justify-self-center relative"})};var o=s(1664),d=s.n(o),x=s(8193);let u=e=>{let{search:t}=e,[s,r]=(0,l.useState)(!1),[o,u]=(0,l.useState)(!1),m=a.Z.get("id");(0,l.useEffect)(()=>{m&&u(!0),r(!0)},[m]);let g=()=>(0,n.jsxs)("div",{className:"justify-self-end flex gap-4 items-center",children:[(0,n.jsx)(d(),{href:"/authpage",className:"cursor-pointer py-2 px-3 rounded-lg border text-orange-400",children:"LogIn"}),(0,n.jsx)(d(),{href:"/authpage?id=signup",className:"cursor-pointer py-2 px-3 rounded-lg bg-orange-400 text-white",children:"Sign Up"})]});return(0,n.jsxs)("div",{className:"h-[65px] bg-white rounded-b-lg grid grid-cols-2 lg:grid-cols-3 grid-rows-1 items-center px-5 shadow-md shadow-slate-400/10",children:[(0,n.jsxs)(d(),{href:"/",className:"font-semibold text-slate-600 flex items-center gap-1",children:[(0,n.jsx)(x.kUE,{size:24}),(0,n.jsx)("div",{className:"",children:"Flumpf"})]}),t?(0,n.jsx)(c,{}):(0,n.jsx)("div",{className:"hidden lg:block"}),s?o?(0,n.jsx)(i,{}):(0,n.jsx)(g,{}):null]})};var m=u},4728:function(e,t,s){"use strict";var n=s(1844),l=s(5784),a=s(8193),r=s(1664),i=s.n(r),c=s(1955);let o=()=>{let e=c.Z.get("id"),[t,s]=(0,l.useState)(""),[r,o]=(0,l.useState)("");return(0,l.useEffect)(()=>{e?(s("/profilepage/?id=".concat(e)),o("/settings/?id=".concat(e))):(s("/authpage"),o("/authpage"))},[e]),(0,n.jsx)("div",{className:"h-[60px] lg:h-full bg-white lg:bg-transparent rounded-lg",children:(0,n.jsxs)("ul",{className:"flex items-center justify-center lg:justify-start lg:items-start lg:flex-col gap-8 lg:gap-4 py-2 h-full",children:[(0,n.jsxs)(i(),{href:t,className:"flex gap-2 items-center cursor-pointer",children:[(0,n.jsx)(a.nf1,{size:24,className:"text-orange-500"}),(0,n.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Profile"})]}),(0,n.jsxs)(i(),{href:"/",className:"flex gap-2 items-center cursor-pointer",children:[(0,n.jsx)(a.VdP,{size:24,className:"text-orange-500"}),(0,n.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Dashdoard"})]}),(0,n.jsxs)(i(),{href:r,className:"flex gap-2 items-center cursor-pointer",children:[(0,n.jsx)(a.zPD,{size:24,className:"text-orange-500"}),(0,n.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Settings"})]})]})})};t.Z=o},9051:function(e,t,s){"use strict";var n=s(1844);let l=e=>{let{isGrid:t,children:s}=e;return(0,n.jsx)("div",{className:"\n        p-2 \n        lg:p-8 \n        rounded-t-lg \n        flex \n        flex-col-reverse \n        overflow-hidden \n        h-full\n        w-full\n        lg:grid \n        ".concat(t?"lg:grid-cols-LeftRight":"lg:grid-cols-Profile","\n        gap-2 \n        lg:gap-8\n        justify-between\n        "),children:s})};t.Z=l},8844:function(e,t,s){"use strict";let n;s.d(t,{Z:function(){return w}});var l=s(1844),a=s(6154),r=s(1955),i=s(5784),c=s(8193),o=s(8138),d=s(1664),x=s.n(d);let u=e=>{let{userId:t,color:s,isLoaded:n,authorName:a,dateString:r}=e;return(0,l.jsxs)(x(),{href:"/userprofile?id=".concat(t),className:"grid grid-cols-post grid-rows-2 items-center gap-y-0 gap-x-2",children:[(0,l.jsx)("div",{style:{backgroundColor:s},className:"w-8 h-8 rounded-lg row-span-full"}),(0,l.jsx)("span",{className:"\n          ".concat(n?"":"w-[100px]","\n          ").concat(n?"":"h-[15px]","\n          ").concat(n?"":"bg-slate-300","\n          ").concat(n?"":"animate-pulse","\n          ").concat(n?"":"rounded-md","\n          font-light \n          text-slate-800 \n          text-sm \n          self-end\n        "),children:n?a:""}),(0,l.jsx)("div",{className:"self-start text-xs text-slate-400",children:n?r:""})]})},m="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var g={randomUUID:m};let h=new Uint8Array(16);function p(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(h)}let f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));var j=function(e,t,s){if(g.randomUUID&&!t&&!e)return g.randomUUID();e=e||{};let n=e.random||(e.rng||p)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=n[e];return t}return function(e,t=0){return(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+"-"+f[e[t+4]]+f[e[t+5]]+"-"+f[e[t+6]]+f[e[t+7]]+"-"+f[e[t+8]]+f[e[t+9]]+"-"+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase()}(n)};let v=e=>{let{isOpen:t,userId:s,color:n,isLoaded:o,authorName:d,dateString:m,onClose:g,postId:h,postText:p}=e,[f,v]=(0,i.useState)(""),[N,w]=(0,i.useState)(),[b,y]=(0,i.useState)(!1),k=r.Z.get("id"),S=r.Z.get("name");(0,i.useEffect)(()=>{t&&a.Z.get("/api/getComments/?postId=".concat(h)).then(e=>{w(e.data.comments),y(!0)})},[t]);let Z=()=>{if(0===f.length)return;let e={userId:k,text:f,name:S,time:new Date};a.Z.post("/api/addComments/?id=".concat(h),e).then(e=>{v(""),w(e.data.updatedPost.comments)}).catch(e=>console.log(e))},C=e=>{if(!e)return"";let t=new Date(e),s=t.toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric"});return s},z=e=>{let{name:t,userId:s,time:n,text:a}=e;return(0,l.jsxs)("div",{className:"border rounded-lg p-2",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)(x(),{href:"/userprofile/?id=".concat(s),className:"font-bold text-md text-slate-500",children:t}),(0,l.jsx)("div",{className:"text-xs font-light",children:C(n)})]}),(0,l.jsx)("div",{className:"pt-4 text-lg",children:a})]},j())};return(0,l.jsx)("div",{className:"".concat(t?"flex":"hidden"," fixed top-0 bg-slate-600 bg-opacity-20 left-0 w-full h-full z-20 items-center justify-center"),children:(0,l.jsxs)("div",{className:"h-full w-full lg:w-2/4 lg:max-h-[70vh] p-4 lg:p-8 bg-white lg:rounded-lg flex flex-col gap-4 overflow-y-scroll",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(u,{userId:s,color:n,isLoaded:o,authorName:d,dateString:m}),(0,l.jsx)("div",{className:"cursor-pointer",onClick:g,children:(0,l.jsx)(c.oHP,{size:24})})]}),(0,l.jsx)("div",{className:"py-4 text-xl",children:p}),(0,l.jsx)("hr",{}),(0,l.jsx)("h3",{className:"mt-2 font-bold text-slate-600 text-xl",children:"Ð¡omments"}),(0,l.jsx)("div",{className:"h-auto overflow-y-scroll flex flex-col gap-4",children:b?(0,l.jsx)(l.Fragment,{children:N.map(e=>(0,l.jsx)(z,{userId:e.userId,time:e.time,text:e.text},j()))}):(0,l.jsx)("div",{className:"",children:"Loading..."})}),(0,l.jsxs)("div",{className:"py-4 border-t flex flex-col gap-2",children:[(0,l.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),rows:"2",className:"p-2 w-full resize-none border rounded-lg outline-none"}),(0,l.jsx)("div",{onClick:()=>Z(),className:" rounded-lg  py-4 px-2  flex  flex-col  items-center  justify-center bg-orange-400 text-white text-xl font-semibold cursor-pointer ",children:"Send"})]})]})})},N=e=>{let{isLoaded:t,postText:s,authorName:n,createdAt:d,color:x,userId:m,idPost:g,likesArr:h,comments:p}=e,[f,j]=(0,i.useState)(!1),[N,w]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[Z,C]=(0,i.useState)(),[z,I]=(0,i.useState)(),[L,U]=(0,i.useState)(!1),D=new Date(d),E=D.toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric"}),P=r.Z.get("id"),R=e=>{f&&!e.target.closest(".pin")?j(!1):j(!0)},V=()=>{a.Z.delete("/api/postRemove/?id=".concat(g)).then(e=>{w(!0)}).catch(e=>console.log(e))},_=()=>{k?a.Z.patch("/api/postLikeTarger/?id=".concat(g),{userId:P}).then(e=>{C(e=>e-1),S(!1)}):a.Z.patch("/api/postLikeTarger/?id=".concat(g),{userId:P}).then(e=>{C(e=>e+1),S(!0)})};return(0,i.useEffect)(()=>{void 0!==m&&m===P&&y(!0),void 0!==h&&(C(h.length),-1!==h.indexOf(P)&&S(!0)),void 0!==p&&I(p.length);let e=e=>{(!e.target.closest(".menu-container")||e.target.closest(".pin"))&&j(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[p,h,P,m]),(0,l.jsxs)("div",{className:"".concat(N?"hidden":""," p-4 bg-white rounded-lg flex flex-col gap-4"),children:[(0,l.jsx)(v,{onClose:()=>U(!1),isOpen:L,userId:m,color:x,postText:s,isLoaded:t,authorName:n,dateString:E,postId:g}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(u,{userId:m,color:x,isLoaded:t,authorName:n,dateString:E}),(0,l.jsxs)("div",{className:"".concat(b?"flex":"hidden","  relative menu-container z-0"),onClick:e=>R(e),children:[(0,l.jsx)(c.fXH,{size:22}),(0,l.jsx)("div",{className:"\n              ".concat(f?"visible":"invisible","\n              ").concat(f?"top-10":"top-0","\n              py-3\n              px-2\n              right-0\n              absolute \n              border \n              rounded-lg\n              w-[140px]\n              bg-white\n              shadow-md \n            shadow-slate-400/10\n            "),children:(0,l.jsx)("ul",{className:"flex flex-col",children:(0,l.jsx)("li",{onClick:()=>V(),className:"\n                    pin\n                    relative\n                    z-20\n                    pin\n                    flex \n                    items-center \n                    gap-2 \n                    cursor-pointer\n                  ",children:b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.gKM,{size:24}),(0,l.jsx)("span",{className:"",children:"Remove"})]}):null})})})]})]}),(0,l.jsx)("div",{className:"\n          ".concat(t?"":"h-[50px]","\n          ").concat(t?"":"animate-pulse","\n          ").concat(t?"":"bg-slate-300","\n          ").concat(t?"":"rounded-lg","\n\n          text-sm \n          lg:text-xl\n          tracking-wide\n        "),children:s}),t?(0,l.jsxs)("div",{className:"".concat(P?"flex":"hidden"," items-center gap-5"),children:[(0,l.jsxs)("div",{onClick:()=>_(),className:"px-2 py-2 border flex items-center gap-2 rounded-full cursor-pointer",children:[(0,l.jsx)(c.lo,{size:24,className:"".concat(k?"text-red-500":"text-slate-400")}),(0,l.jsx)("span",{className:"text-slate-800",children:Z})]}),(0,l.jsxs)("div",{className:"px-2 py-2 border flex items-center gap-2 rounded-full cursor-pointer",onClick:()=>U(!0),children:[(0,l.jsx)(c.RG4,{size:24,className:"text-slate-400"}),(0,l.jsx)("span",{className:"text-slate-800",children:z})]})]}):(0,l.jsx)("div",{className:"animate-pulsew-[100px]h-[40px]rounded-lg bg-slate-300"})]})};var w=N},9254:function(e,t,s){"use strict";var n=s(1844);let l=e=>{let{profileColor:t,name:s}=e;return(0,n.jsxs)("div",{className:"bg-white rounded-lg flex items-center gap-4 p-3 lg:p-5",children:[(0,n.jsx)("div",{style:{backgroundColor:t},className:"w-8 h-8 lg:w-14 lg:h-14 rounded-lg"}),(0,n.jsx)("span",{className:"font-semibold text-xl lg:text-3xl text-slate-700 tracking-wide",children:s})]})};t.Z=l},7951:function(e,t,s){"use strict";var n=s(1844);let l=e=>{let{title:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("h2",{className:"font-semibold text-xl lg:text-2xl capitalize text-slate-500",children:t}),(0,n.jsx)("hr",{})]})};t.Z=l},4190:function(){}}]);