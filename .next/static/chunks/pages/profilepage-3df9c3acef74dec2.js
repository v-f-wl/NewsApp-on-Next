(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{9586:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profilepage",function(){return s(7769)}])},7769:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(1844);s(1342),s(4190);var l=s(9008),n=s.n(l),o=s(848),i=s(2631),r=s(4728),c=s(9051),d=s(5784),u=s(1163),h=s(6154),g=s(1955),x=s(3787),p=s(9254),f=s(7951),m=s(1559);let j=()=>{let[e,t]=(0,d.useState)(),[s,l]=(0,d.useState)(""),[n,o]=(0,d.useState)(""),[i,r]=(0,d.useState)(null),[c,j]=(0,d.useState)(null),[v,_]=(0,d.useState)(null),[N,Z]=(0,d.useState)(null),[b,y]=(0,d.useState)(!1),w=(0,u.useRouter)(),{id:P}=w.query,S=g.Z.get("id");return(0,d.useEffect)(()=>{S!==P&&void 0!==P&&w.push("/authpage"),h.Z.get("/api/userGetOne/?userId=".concat(P)).then(e=>{r(e.data.city),j(e.data.age),_(e.data.hobbies),l(e.data.fullName),o(e.data.avatar)}).then(()=>{h.Z.get("/api/postOfOneUser",{params:{idPerson:P}}).then(e=>{0!==e.data.length&&t(e.data.reverse())}).catch(e=>console.log(e))}).catch(e=>console.log(e)),Z(!0),y(!0)},[P,S,w]),(0,a.jsxs)("div",{className:"\n        ".concat(b?"flex":"hidden","\n        ").concat(b?"lg:block":"hidden","\n        flex-col \n        gap-4 \n        max-h-[60vh]  \n        lg:max-h-[80vh] \n        snap-none\n      "),children:[(0,a.jsx)(p.Z,{profileColor:n,name:s}),(0,a.jsxs)("div",{className:" lg:mt-10  lg:grid  lg:grid-cols-32  lg:gap-12  lg:items-start  lg:h-auto ",children:[(0,a.jsxs)("div",{className:" bg-white  rounded-lg  py-4 lg:py-8  px-2 lg:px-4 ",children:[(0,a.jsx)(f.Z,{title:"your posts"}),e?(0,a.jsx)("div",{className:" mt-4  flex  flex-col  gap-3  max-h-[60vh] overflow-y-scroll ",children:e.map(e=>(0,a.jsx)(x.Z,{isLoaded:!0,userId:e.user,postText:e.text,idPost:e._id,authorName:s,likesArr:e.likesUser,createdAt:e.createdAt,color:e.color,comments:e.comments,tags:e.tags,imagePost:e.imagePost},e._id))}):(0,a.jsx)("div",{className:"pt-10 text-xl font-light text-slate-300",children:"*You don't have any posts yet"})]}),(0,a.jsx)(m.Z,{isPerson:N,city:i,age:c,hobbies:v})]})]})};function v(){return(0,a.jsxs)("div",{className:"b-col",children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"Flumpf - Profile"})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.Z,{}),(0,a.jsxs)(c.Z,{isGrid:!1,children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)(j,{})]})]})]})}}},function(e){e.O(0,[617,401,649,893,45,511,190,888,179],function(){return e(e.s=9586)}),_N_E=e.O()}]);