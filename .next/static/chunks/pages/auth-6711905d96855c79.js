(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{3477:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return s(6807)}])},6807:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return x}});var l=s(1844),t=s(6154),n=s(1163),r=s(5784),c=s(4949);let o=(0,c.oM)({name:"user",initialState:{user:[]},reducers:{addToStore(e,a){e.user.push({id:a.payload.id,name:a.payload.name})}}}),{addToStore:i}=o.actions;o.reducer,s(1342);var d=s(461);let u=()=>{let[e,a]=(0,r.useState)(!1),[s,c]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[N,b]=(0,d.Z)(["userName","userId"]),j=(0,n.useRouter)(),{id:g}=j.query;(0,r.useEffect)(()=>{"signin"==g&&f(!0)},[g]);let v=async e=>{e.preventDefault(),a(!0),await t.Z.post("/api/userRegister",{fullName:o,email:u,password:m}).then(()=>{j.push("/"),a(!1),console.table(res.data)})},y=async e=>{e.preventDefault(),c(""),a(!0),await t.Z.post("/api/userLogin",{email:u,password:m}).then(e=>{b("userName",e.data.fullName),b("userId",e.data._id),a(!1),console.table(e.data)}).catch(()=>{c("Не удалось войти"),a(!1)})},w=(0,l.jsx)("div",{className:"mt-16",children:(0,l.jsxs)("form",{className:"flex flex-col gap-8",children:[(0,l.jsxs)("label",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-md text-slate-700",children:"Name"}),(0,l.jsx)("input",{type:"text",placeholder:"Enter Your Full Name",value:o,onChange:e=>i(e.target.value),className:"outline-none py-1 px-3 border-b"})]}),(0,l.jsxs)("label",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-md text-slate-700",children:"Email"}),(0,l.jsx)("input",{type:"mail",placeholder:"Enter Your Email",value:u,onChange:e=>x(e.target.value),className:"outline-none py-1 px-3 border-b"})]}),(0,l.jsxs)("label",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-md text-slate-700",children:"Password"}),(0,l.jsx)("input",{type:"password",placeholder:"Create A Password",value:m,onChange:e=>p(e.target.value),className:"outline-none py-1 px-3 border-b"})]}),(0,l.jsx)("button",{className:"w-full border mt-4 py-2 rounded-lg",onClick:e=>v(e),children:"SignUp"})]})}),C=(0,l.jsx)("div",{className:"mt-16",children:(0,l.jsxs)("form",{className:"flex flex-col gap-8",children:[(0,l.jsxs)("label",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-md text-slate-700",children:"Email"}),(0,l.jsx)("input",{type:"mail",placeholder:"Enter Your Email",value:u,onChange:e=>x(e.target.value),className:"outline-none py-1 px-3 border-b"})]}),(0,l.jsxs)("label",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-md text-slate-700",children:"Password"}),(0,l.jsx)("input",{type:"password",placeholder:"Create A Password",className:"outline-none py-1 px-3 border-b",value:m,onChange:e=>p(e.target.value)})]}),(0,l.jsx)("button",{type:"submit",onClick:e=>y(e),className:"w-full border mt-4 py-2 rounded-lg",children:"LogIn"})]})});return(0,l.jsxs)("div",{className:"w-screen h-screen flex items-center justify-center relative",children:[(0,l.jsx)("div",{className:"\n          ".concat(e?"flex":"hidden","\n          items-center\n          justify-center\n          opacity-80\n          absolute \n          top-0 \n          left-0 \n          bottom-0 \n          right-0 \n          bg-slate-700 \n          z-10\n        "),children:(0,l.jsx)("span",{className:"animate-spin p-5 border rounded-xl"})}),(0,l.jsxs)("div",{className:"w-2/3 h-3/4 bg-white rounded-lg grid grid-cols-2 overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-12 bg-orange-400 flex flex-col justify-center text-white gap-8",children:[(0,l.jsx)("h2",{className:"text-4xl font-semibold",children:"Welcome To AirPlay"}),(0,l.jsx)("span",{className:"font-mono",children:"The decade that brought us Star Trek and Doctor Who also resurrected Cicero—or at least what used to be Cicero—in an attempt to make the days before computerized design a little less painstaking."})]}),(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsxs)("div",{className:" flex- flex-col gap-5",children:[(0,l.jsxs)("div",{className:"border-b py-4 flex gap-8",children:[(0,l.jsx)("button",{onClick:()=>f(!1),className:"font-semibold text-slate-700 ".concat(h?"opacity-60":""),children:"LogIn"}),(0,l.jsx)("button",{onClick:()=>f(!0),className:"font-semibold text-slate-700 ".concat(h?"":"opacity-60"),children:"Sing Up"})]}),(0,l.jsx)("div",{className:"pt-2 text-red-500 font-medium",children:s}),(0,l.jsx)("div",{className:"w-[300px] h-[500px]",children:h?w:C})]})})]})]})};var x=u}},function(e){e.O(0,[725,993,888,179],function(){return e(e.s=3477)}),_N_E=e.O()}]);