(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2967:function(e,s,l){Promise.resolve().then(l.bind(l,7478))},7478:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return k}});var t=l(9268),n=l(6006),a=l(1712),r=l(3393);let c=()=>{let[e,s]=(0,n.useState)(!1),l=a.Z.get("name"),c=a.Z.get("color"),i=()=>{s(e=>!e)},o=()=>{a.Z.remove("name"),a.Z.remove("id"),a.Z.remove("token"),a.Z.remove("color"),window.location.reload()};return(0,t.jsx)("div",{className:"md:justify-self-end flex items-center md:gap-4",children:(0,t.jsxs)("div",{className:"px-2 shadow-sm h-[40px] flex justify-between items-center gap-2 w-[300px] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{style:{backgroundColor:c},className:"w-[30px] h-[30px] bg-neutral-200 rounded-lg"}),(0,t.jsx)("div",{className:"font-light text-sm text-slate-800",children:l})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.$Pu,{onClick:()=>i(),size:24,className:"text-orange-600 cursor-pointer"}),e?(0,t.jsx)("div",{className:"w-[100px] absolute bg-white p-2 right-0 top-10 border border-orange-400 rounded-lg",children:(0,t.jsx)("ul",{className:"",children:(0,t.jsx)("li",{className:"cursor-pointer",onClick:()=>o(),children:"Log out"})})}):null]})]})})};var i=l(4021);let o=()=>{let[e,s]=(0,n.useState)("");return(0,t.jsxs)("div",{className:"hidden lg:block justify-self-center relative",children:[(0,t.jsxs)("div",{className:"shadow-sm h-[40px] flex justify-between items-center gap-2 w-[300px] rounded-lg",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Search...",className:"w-full px-2 outline-none text-sm font-light"}),(0,t.jsx)("button",{className:"p-1",children:(0,t.jsx)(i.w75,{size:24})})]}),(0,t.jsx)("div",{className:"hidden absolute top-10 border w-[1000px] right-[-50%] translate-x-2/4 bg-gray-500",children:"modal"})]})};var d=l(5846),x=l.n(d);let g=e=>{let{search:s}=e,[l,r]=(0,n.useState)(!1),[i,d]=(0,n.useState)(!1),g=a.Z.get("id");(0,n.useEffect)(()=>{g&&d(!0),r(!0)},[]),(0,n.useEffect)(()=>{},[]);let u=()=>(0,t.jsxs)("div",{className:"justify-self-end flex gap-4 items-center",children:[(0,t.jsx)(x(),{href:"/auth",className:"cursor-pointer py-2 px-3 rounded-lg border text-orange-400",children:"LogIn"}),(0,t.jsx)(x(),{href:"/auth?id=signup",className:"cursor-pointer py-2 px-3 rounded-lg bg-orange-400 text-white",children:"Sign Up"})]});return(0,t.jsxs)("div",{className:"h-[65px] bg-white rounded-b-lg grid grid-cols-2 lg:grid-cols-3 grid-rows-1 items-center px-5 shadow-md shadow-slate-400/10",children:[(0,t.jsx)(x(),{href:"/",className:"text-2xl font-semibold text-slate-600 tracking-big",children:"AirPlay"}),s?(0,t.jsx)(o,{}):(0,t.jsx)("div",{className:"hidden lg:block"}),l?i?(0,t.jsx)(c,{}):(0,t.jsx)(u,{}):null]})};var u=l(1033);let h=()=>{let e=a.Z.get("id"),[s,l]=(0,n.useState)("");return(0,n.useEffect)(()=>{e?l("/profilepage/?id=".concat(e)):l("/auth")},[e]),(0,t.jsx)("div",{className:"h-[60px] lg:h-full bg-white lg:bg-transparent rounded-lg",children:(0,t.jsxs)("ul",{className:"flex items-center justify-center lg:justify-start lg:items-start lg:flex-col gap-8 lg:gap-4 py-2",children:[(0,t.jsxs)(x(),{href:s,className:"flex gap-2 items-center cursor-pointer",children:[(0,t.jsx)(u.nf1,{size:24,className:"text-orange-500"}),(0,t.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Profile"})]}),(0,t.jsxs)(x(),{href:"/",className:"flex gap-2 items-center cursor-pointer",children:[(0,t.jsx)(u.VdP,{size:24,className:"text-orange-500"}),(0,t.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Dashdoard"})]}),(0,t.jsxs)(x(),{href:"/soon",className:"flex gap-2 items-center cursor-pointer",children:[(0,t.jsx)(u.bI9,{size:24,className:"text-orange-500"}),(0,t.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Your Pins"})]}),(0,t.jsxs)("li",{className:"flex gap-2 items-center cursor-pointer",children:[(0,t.jsx)(u.zPD,{size:24,className:"text-orange-500"}),(0,t.jsx)("span",{className:"hidden lg:block mt-0 tracking-wider",children:"Settings"})]})]})})},m=e=>{let{isGrid:s,children:l}=e;return(0,t.jsx)("div",{className:"\n        p-2 \n        lg:p-8 \n        rounded-t-lg \n        flex \n        flex-col-reverse \n        overflow-hidden \n        h-full\n        w-full\n        lg:grid \n        ".concat(s?"lg:grid-cols-LeftRight":"lg:grid-cols-Profile","\n        gap-2 \n        lg:gap-8\n        "),children:l})};var p=l(6008),j=l(4214);let f=()=>{let e=(0,p.useRouter)(),[s,l]=(0,n.useState)(!1),[r,c]=(0,n.useState)(""),i=a.Z.get("id"),o=a.Z.get("name"),d=a.Z.get("color"),x=()=>{a.Z.get("token")?l(!0):e.push("/auth")},g=()=>{try{j.Z.post("/api/postCreate",{text:r,nameValue:o,userId:i,color:d}).then(e=>console.log(e)).then(()=>{l(!1),window.location.reload()}).catch(error=console.log(error))}catch(e){}};return(0,t.jsxs)("div",{className:" flex  items-center rounded-lg  bg-white  sticky  z-10 top-0  shadow-md  shadow-slate-400/10 ",children:[(0,t.jsx)("div",{className:"m-3 w-8 h-8 rounded-lg bg-slate-300"}),(0,t.jsx)("div",{onClick:()=>x(),className:"text-zinc-300 font-light text-sm lg:text-base cursor-pointer w-full",children:s?"":"Create Post"}),(0,t.jsx)("div",{className:"\n          absolute \n          top-16\n          ".concat(s?"opacity-100":"opacity-0","\n          ").concat(s?"visible":"invisible","\n          ").concat(s?"z-10":"-z-10","\n          transition\n          border \n          w-full \n          bg-white\n          rounded-lg\n          shadow-lg shadow-slate-400/40\n        "),children:(0,t.jsxs)("div",{className:"w-full h-full relative",children:[(0,t.jsx)("div",{onClick:()=>l(!1),className:"  text-slate-500  absolute  top-4 right-4  cursor-pointer z-10 ",children:(0,t.jsx)(u.SV5,{size:24})}),(0,t.jsxs)("div",{className:"py-8 px-4 flex flex-col gap-2",children:[(0,t.jsxs)("label",{className:"flex flex-col gap-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-2xl text-slate-500",children:"Enter You Post"}),(0,t.jsx)("textarea",{value:r,onChange:e=>c(e.target.value),cols:"50",rows:"3",className:"outline-none w-full resize-none",placeholder:"Write here..."})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("button",{onClick:()=>g(),className:"border w-1/4 py-2 rounded-lg ",children:"Send"})]})]})})]})},v=e=>{let{isLoaded:s,postText:l,authorName:a,createdAt:r,color:c}=e;console.log(c);let[o,d]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),p=new Date(r),j=p.toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric"}),f=e=>{o&&!e.target.closest(".pin")?d(!1):d(!0)},v=()=>{g(!x)};return(0,n.useEffect)(()=>{let e=e=>{(!e.target.closest(".menu-container")||e.target.closest(".pin"))&&d(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,t.jsxs)("div",{className:" p-4 bg-white rounded-lg flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"grid grid-cols-post grid-rows-2 items-center gap-y-0 gap-x-2",children:[(0,t.jsx)("div",{style:{backgroundColor:c},className:"w-8 h-8 rounded-lg row-span-full"}),(0,t.jsx)("span",{className:"\n              ".concat(s?"":"w-[100px]","\n              ").concat(s?"":"h-[15px]","\n              ").concat(s?"":"bg-slate-300","\n              ").concat(s?"":"animate-pulse","\n              ").concat(s?"":"rounded-md","\n              font-light \n              text-slate-800 \n              text-sm \n              self-end\n            "),children:s?a:""}),(0,t.jsx)("div",{className:"self-start text-xs text-slate-400",children:s?j:""})]}),(0,t.jsxs)("div",{className:"relative menu-container z-0",onClick:e=>f(e),children:[(0,t.jsx)(u.fXH,{size:22}),(0,t.jsx)("div",{className:"\n              ".concat(o?"visible":"invisible","\n              ").concat(o?"top-10":"top-0","\n              py-3\n              px-2\n              right-0\n              absolute \n              border \n              rounded-lg\n              w-[140px]\n              bg-white\n              shadow-md \n            shadow-slate-400/10\n            "),children:(0,t.jsx)("ul",{className:"flex flex-col gap-3",children:(0,t.jsx)("li",{onClick:()=>v(),className:"\n                    pin\n                    relative\n                    z-20\n                    pin\n                    flex \n                    items-center \n                    gap-2 \n                    cursor-pointer\n                  ",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.qen,{size:24}),(0,t.jsx)("span",{children:"Remove Pin"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Fis,{size:24}),(0,t.jsx)("span",{children:"Add Pin"})]})})})})]})]}),(0,t.jsx)("div",{className:"\n          ".concat(s?"":"h-[50px]","\n          ").concat(s?"":"animate-pulse","\n          ").concat(s?"":"bg-slate-300","\n          ").concat(s?"":"rounded-lg","\n\n          text-sm \n          lg:text-xl\n          tracking-wide\n        "),children:l}),(0,t.jsx)("div",{className:"\n        w-full \n        ".concat(s?"h-auto":"h-[200px]","\n        ").concat(s?"":"animate-pulse","\n        ").concat(s?"":"rounded-lg","\n        ").concat(s?"":"bg-slate-200","\n        flex gap-4\n        ")}),s?(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsxs)("div",{onClick:()=>m(!h),className:"px-2 py-2 border flex items-center gap-2 rounded-full cursor-pointer",children:[(0,t.jsx)(u.lo,{size:24,className:"\n                  ".concat(h?"text-red-500":"text-slate-400","\n                ")}),(0,t.jsx)("span",{className:"text-slate-800",children:"0"})]}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(u.gYb,{size:24,className:"text-orange-400"})})]}):(0,t.jsx)("div",{className:" animate-pulse w-[100px] h-[40px] rounded-lg bg-slate-300 "})]})},N=()=>{let[e,s]=(0,n.useState)(!0),[l,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{j.Z.get("/api/postGetAll").then(e=>{a(e.data.reverse())}).catch(e=>console.log(e))},[]),(0,n.useEffect)(()=>{l.length>0&&s(!1)},[l]),(0,t.jsxs)("div",{className:"relative overflow-y-scroll rounded-lg lg:rounded-t-xl snap-none",children:[(0,t.jsx)(f,{}),(0,t.jsx)("div",{className:"flex flex-col gap-4 overflow-hidden pt-4 lg:pt-8",children:(e?[void 0,void 0]:l).map((s,l)=>e?(0,t.jsx)(v,{isLoaded:!1},l):(0,t.jsx)(v,{isLoaded:!0,postText:s.text,authorName:s.name,createdAt:s.createdAt,color:s.color,image:s.image},s._id))})]})},w=()=>(0,t.jsx)("div",{className:"hidden lg:block border-2 rounded-lg"}),b=e=>{let{children:s}=e;return(0,t.jsx)("div",{className:"container mx-auto max-w-screen-xl flex flex-col gap-1 h-screen",children:s})};function k(){return(0,t.jsx)("div",{children:(0,t.jsxs)(b,{children:[(0,t.jsx)(g,{search:!0}),(0,t.jsxs)(m,{isGrid:!0,children:[(0,t.jsx)(h,{}),(0,t.jsx)(N,{}),(0,t.jsx)(w,{})]})]})})}l(6571)}},function(e){e.O(0,[104,776,937,667,139,744],function(){return e(e.s=2967)}),_N_E=e.O()}]);